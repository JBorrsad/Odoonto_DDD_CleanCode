---
description: Guidelines for the PlannedProcedure Domain Entity.
globs: 
autoAttach: true
- "**/Domain/**/Models/**/PlannedProcedure*.cs"
---

# PlannedProcedure Entity Guidelines

## Description
Treatment planned within an appointment.

## When to apply
Whenever you create or edit the `PlannedProcedure` entity class or any of its related files.

## Responsibilities
- Model the treatment planned within an appointment.
- Preserve invariants defined in `domain_entities_overview.mdc`
- Encapsulate state; expose behavior via methods
- Validate inputs and throw domainâ€‘specific exceptions
- Use `Entity` base class for identity and audit fields

## Best Practices
- Keep constructor private and use static `Create` factory
- Provide methods such as `SetName`, `Add...`, `Remove...` with validation
- Avoid leaking infrastructure concerns into the domain
- Cover business rules with unit tests

## Code Example
Refer to `DDD_Ejemplos_Codigo/1_Domain_Entity.cs` as a template and adapt for `PlannedProcedure`.
